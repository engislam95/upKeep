<div class="main_page">
  <app-alerts></app-alerts>

  <app-side-menu></app-side-menu>
  <div class="page_main_blocks middle_page">
    <div class="page_header">
      <app-header></app-header>
    </div>
    <div class="page_body_title">
      <h3><i class="fas fa-users-cog"></i>معلومات عن الفنى</h3>
      <!-- <div class="page_body_main_buttons">
        <a
          *ngIf="technician_update || this.user.privilege == 'super-admin'"
          [routerLink]="['/technicians/update-technical']"
          [queryParams]="{
            updateMode: true,
            updatedTechnicalId: tecniciansId
          }"
        >
          تعديل الفنى<i class="far fa-edit"></i>
        </a>
        <a [routerLink]="['/technicians/all-technicians']">
          كل الفنيين
          <i class="fas fa-th-list"></i>
        </a>
      </div> -->
    </div>


    <div class="page_body formContainer"  [ngClass]="{ pageNotLoaded: !pageLoaded }">

      <div class="button-add-taxs">
        <button
        [routerLink]="['/technicians/update-technical']"
          [queryParams]="{
            updateMode: true,
            updatedTechnicalId: tecniciansId
          }">
        <i class="fal fa-user-edit"></i>  تعديل بيانات الفنى </button>
      </div>

      <div class="clientDetails-name">

          <ul>
            <li>
              <span class="cilentAccount-type ">
               {{ technicalDetails.id }}
              </span>
            </li>
            <li>
              <h3>
                <i class="fas fa-user"></i>
                {{ technicalDetails.name}}
              </h3>
            </li>
          
            <li>
              <span class="cilentAccount-type-0 " *ngIf="technicalDetails.active == 1" >
                حساب نشط 
              </span>
              <span class="cilentAccount-type-10 "  *ngIf="technicalDetails.active == 0" >
                حساب  غير نشط 
              </span>
             
            </li>
    
            
          </ul>
        </div>




      <div class="page_body_main" style="display:flex">
        <div class="page_block " style="width: 55%;  "> 
          <div class="profileDetails">
            <div class="profileDetails">
              <h3 style="font-family: 'Arabic gess med'"><i class="fas fa-users-cog" style="margin-left:2% ; font-size: 25px; "></i> تقارير و بيانات الفنى</h3>
            </div>
          </div>

          <div class="mobileConnected">

            <div class="connected" style="cursor: no-drop;">
              <i class="fas fa-user-check"></i>
              <span class="fontSN" style="color:#fff ; position: relative ; top: -3px; cursor: disable;"> متصل بالتطبيق </span>
            </div>

            
            <div class="logout" style="cursor: no-drop;">
              <i class="fas fa-sign-out-alt"></i>
            </div>


           

            <!-- <div class="disConnected">
              <i class="fas fa-user-check"></i>
              <span class="fontSN">   غير متصل بالتطبيق </span>
            </div>

            <div class="logoutDis">
              <i class="fas fa-sign-out-alt"></i>
            </div> -->

           
          

            


          </div>

          <div class="rating" style="display:flex">
            <div class="allRating" style="width: 50%;">
              <div class="ratingHead" style="margin-bottom:8% ; padding: 2% 0%">
                <h3 class="fontSN">التقييم العام للفنى </h3>
                <rating style="color: #FFD500; padding: 0% 3%; font-size: 22px; float: left; padding: 0% 3%;" [(ngModel)]="rate" [max]="max" [readonly]="isReadonly"></rating>
              </div>
              <div style="display: flex; width: 100%; padding:3% ; text-align: center;">
              <div style="width: 33%; padding: 1% 2%; border-left: 1px dotted #fff; filter: drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.16));">
                <p class="fontSN">تقييم العملاء </p> 
                <h5 style="font-size: 1rem; color: #000;  font-weight: bold;">0/0</h5>
              </div>
              <div style="width: 33%; padding: 1% 4%;  border-left: 1px dotted #fff;  filter: drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.16));" > 
              <p class="fontSN"> تقييم الإدارة</p>
              <h5 style="font-size: 1rem; color: #000;  font-weight: bold;">0/0</h5>
            </div>
              <div style="width: 33%; padding: 1% 3% 1% 4%;" >
                <p class="fontSN"> النقاط </p>
              <h5 style="font-size: 1rem; color: #000;  font-weight: bold;"> 0 </h5>
              </div>

              </div>
            </div>

            <div class="allRating" style="width: 50% ; height:200px ">
              <div class="ratingHead" style="margin-bottom:6% ; padding: 2% 0%">
                <h3 class="fontSN"> تتبع الفنى </h3>
              </div>
              <div class="controlAllOrder">
                <ul>

                  <li>
                    <button  type="button" disabled>
                      <i class="fas fa-map-marked"></i>
                    </button>
                    <p class="fontSN" > خط سير الفنى </p>
                  </li>

                  <li>
                    <button type="button" disabled>
                      <i class="fas fa-map-marker-alt"></i>
                    </button>
                    <p class="fontSN">  نقطة تواجد الفنى  </p>
                  </li>

                </ul>
              </div>
            </div>
          </div>


          <div class="ratingControl" style="display:flex">
            <div class="allRating" style="width: 50%;  height:200px">
              <div class="ratingHead" style="margin-bottom:6% ; padding: 2% 0%">
                <h3 class="fontSN">  تقييمات و تقارير الفنى </h3>
              </div>
              <div class="controlAllOrder">
                <ul>

                  <li>
                    <button  type="button" disabled>
                      <i class="far fa-grin-stars"></i>
                    </button>
                    <p class="fontSN"> التقييم اليومى </p>
                  </li>

                  <li>
                    <button type="button" disabled>
                      <i class="fas fa-grin-stars"></i>
                    </button>
                    <p class="fontSN">تقييم العميل   </p>
                  </li>

                </ul>
              </div>
            </div>
            <div class="allRating" style="width: 50% ; height:200px">
              <div class="ratingHead" style="margin-bottom:6% ; padding: 2% 0%">
                <h3 class="fontSN"> التحكم في حساب الفنى </h3>
              </div>
              <div class="controlAllOrder">
                <ul>

                  <li *ngIf="technicalDetails.active == 1 ">
                    <!-- <i  style="color:red ; position: relative ; top: -40px; right: 12px; font-size: 21px;" class="fal fa-info-circle"></i> -->
                    <button (click)="activateTechnical()" type="button">
                      <i class="far fa-stop-circle"></i>
                    </button>
                    <p class="fontSN"> إيقاف الحساب </p>
                  </li>

                  <li *ngIf="technicalDetails.active == 0 ">
                    <!-- <i   style="color:red ; position: relative ; top: -40px; right: 12px; font-size: 21px;" class="fal fa-info-circle"></i> -->
                    <button (click)="stopTechnical()"  style="background: #139E18;" type="button">
                      <i style="color:#fff" class="fas fa-play"></i>
                    </button>
                    <p class="fontSN"> تشغيل الحساب </p>
                  </li>

                  <li>
                    <button type="button" disabled>
                      <i class="far fa-comment-dots"></i>
                    </button>
                    <p class="fontSN"> إرسال رسالة </p>
                  </li>

                </ul>
              </div>
            </div>
          </div>




        </div>

        <div style="width: 0px;
        height: 706px;
        background: transparent;
        border: 1px solid #fff;
        filter: drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.16));
        "></div>

        <div class="page_block" style="width:30% ; padding:15px 60px ; padding-right: 20px;">

          <div style="margin-bottom:5%" class="profileDetails">
            <div class="profileDetails">
              <h3 style="font-family: 'Arabic gess med'"><i class="fas fa-users-cog" style="margin-left:2% ; font-size: 25px;"></i> بيانات الفنى</h3>
            </div>
          </div>

          <div class="technicalDetails">
            <h5 class="blueLabel"> 
              <div class="display:flex ; " style="padding-top: 2%;">

                <div style="width: 40%; display: inline-block;" >
                  <i class="fas fa-ellipsis-h"></i>
                  <span class="fontSN"> رقم الفنى </span>
                </div>
                <div style=" width: 40%; display: inline-block; text-align: right; " >
                 <span class="fontStN" style="font-weight: bold;" > {{ technicalDetails.id }} </span>
                </div>
                <!-- <div style="width: 33%; display: inline-block;" ></div> -->

              </div>
              
            </h5> 
            <h5 class="grayLabel"> 
              <div class="display:flex ; " style="padding-top: 2%;">

                <div style="width: 40%; display: inline-block;" >
                  <i class="fas fa-user"></i>
                  <span class="fontSN"> اسم الفنى </span>
                </div>
                <div style=" width: 40%; display: inline-block; text-align: right; " >
                  <span  class="fontSN" > {{ technicalDetails.name }} </span>
                </div>
                <!-- <div style="width: 33%; display: inline-block;" ></div> -->

              </div>
             
              
            </h5> 
            <h5 class="blueLabel"> 
              <div class="display:flex ; " style="padding-top: 2%;">

                <div style="width: 40%; display: inline-block;" >
                  <i class="fas fa-flag"></i>
                 <span  class="fontSN"> الجنسية </span>
                </div>
                <div style=" width: 50%; display: inline-block; text-align: right; " >
                  <span class="fontSN" > {{ technicalDetails.nationality ?  technicalDetails.nationality.name : 'لا يوجد' }} </span>
                </div>
                <div style="width: 10%; display: inline-block;" ></div>

              </div>
              
             
            </h5> 
            <h5 class="grayLabel"> 
              <div class="display:flex ;" style="padding-top: 2%;">

                <div style="width: 33%; display: inline-block;" >
                  <i class="fas fa-mobile"></i>
                  <span class="fontSN"> رقم الموبايل </span>
                </div>
                <div style=" width: 33%; display: inline-block; text-align: right; " >
                  <span class="fontStN" style="margin-right: 19%; "> {{ technicalDetails.mobile }} </span>
                </div>
                <div style="width: 33%; display: inline-block; text-align: left;" >
                  <i class="fal fa-copy" style="cursor: pointer;" (click)="copyURL(technicalDetails.mobile)" ></i></div>

              </div>
            
            </h5> 
            <h5 class="blueLabel"> 
              <div class="display:flex ; " style="padding-top: 2%;">

                <div style="width: 40%; display: inline-block;" >
                  <i class="fas fa-envelope"></i>
                 <span class="fontSN">  البريد الإلكتروني </span>
                </div>
                <div style=" width: 40%; display: inline-block; text-align: right; " >
                  <span class="fontSt" style="font-weight: bold;" > {{ technicalDetails.email ? technicalDetails.email : 'لا يوجد ' }} </span>
                </div>
                <!-- <div style="width: 33%; display: inline-block;" ></div> -->

              </div>
            
            </h5> 
            <h5 class="grayLabel"> 
              <div class="display:flex ; " style="padding-top: 2%;">

                <div style="width: 40%; display: inline-block;" >
                  <i class="fas fa-id-card-alt"></i>
                  <span class="fontSN" > نوع التعاقد </span>
                </div>
                <div style=" width: 40%; display: inline-block; text-align: right; " >
                  <span class="fontSN" > موظف </span>
                </div>
                <!-- <div style="width: 33%; display: inline-block;" ></div> -->

              </div>
              
              

            </h5> 
            <h5 class="blueLabel"> 
              <div class="display:flex ;" style="padding-top: 2%;">

                <div style="width: 40%; display: inline-block;" >
                  <i class="fab fa-pinterest"></i>
                  <span  class="fontSN"> فاعلية الحساب </span>
                </div>
                <div style=" width: 40%; display: inline-block; text-align: right" >
                  <span class="fontSN" style="color: green " *ngIf="technicalDetails.active == 1"> نشط </span>
                  <span class="fontSN" style="color: red " *ngIf="technicalDetails.active == 0"> غير نشط </span>

                </div>
                <!-- <div style="width: 33%; display: inline-block;" ></div> -->

              </div>
              
             
            </h5> 
            
            <h5 class="grayLabel"> 
              <div class="display:flex " style="padding-top: 2%;">

                <div style="width: 40%; display: inline-block;" >
                  <i class="fas fa-calendar-week"></i>
                 <span class="fontSN" > تاريخ الاضافة</span>
                </div>
                <div style=" width: 40%; display: inline-block; text-align: right; " >
                  <span  class="fontStN" style="font-weight: bold;" > {{ technicalDetails.created_at }} </span>
                </div>
                <!-- <div style="width: 20%; display: inline-block;" ></div> -->

              </div>
             
             
            </h5> 
            <h5 class="blueLabel ; "> 

              <div class="display:flex ;" style="padding-top: 2%;">

                <div style="width: 40%; display: inline-block;" >
                  <i class="fas fa-user-plus"></i>
                  <span  class="fontSN"> إضافة بواسطة </span>
                </div>
                <div style=" width: 40%; display: inline-block; text-align: right; " >
                  <span  class="fontSt"  > Super admin  </span>
                </div>
                <!-- <div style="width: 20%; display: inline-block; text-align: center; " >  </div> -->
                

              </div>
             
             
            </h5> 
            <h5 class="grayLabel"> 

              <div class="display:flex ; " style="padding-top: 2%;">

                <div style="width: 41%; display: inline-block;     vertical-align: top;                " >
                  <i class="fas fa-user-shield"></i>
                  <span class="fontSN" > الخدمات </span>
                </div>
                <div style=" width: 59%; display: inline-block; text-align: right; " >
                  <span class="fontSN"  *ngFor="let service of technicalDetails.services; let i = index">  {{ service.name  }}  <span *ngIf="i != 0 && i != technicalDetails.services.length-1"> - </span> </span>
                </div>
             

              </div>
             
              
            </h5> 
            <h5 class="blueLabel"> 
              <div class="display:flex ; " style="padding-top: 2%;">

                <div style="width: 41%; display: inline-block;" >
                  <i class="fas fa-map-marker"></i>
                 <span class="fontSN" > أماكن الخدمات </span>
                </div>
                <div style=" width: 59%; display: inline-block; text-align: right; " >
                  <span class="fontSN" *ngFor="let city of technicalDetails.cities; let i = index">  {{ city.name  }} <span *ngIf="i != 0 && i != technicalDetails.cities.length-1"> - </span> </span> 
                </div>

              </div>
             
             
           
            </h5> 
          </div>

        </div>

        <div style="width: 0px;
        height: 706px;
        background: transparent;
        border: 1px solid #fff;
        filter: drop-shadow(0px 3px 6px rgba(0, 0, 0, 0.16));
        "></div>

        <div class="page_block" style="width:15% ">
          <div class="technicalImg">
            <i class="fas fa-image" ></i>
            <span class="fontSt" style="font-family: 'Arabic gess med'" > صورة الفنى  </span>
            <div class="technicalImgImg">
              <img id="imageTech" src="{{ technicalDetails.image }}" >
            </div>
            <div class="zoom" (click)="openModalImage()"><i class="fas fa-search"></i></div> 
          </div>

          <!-- The Modal Image-->
          <div id="imageTechModel" class="modal">
            <span (click)="closeImageTech()" class="close">&times;</span>
            <img src="{{ technicalDetails.image }}" class="modal-content" id="img01">
          </div>

          <div class="mapImg">
            <i class="fas fa-map-marker-alt"></i>
            <span class="fontSt" style="margin-bottom: 2% ; font-family: 'Arabic gess med' "> دبوس الخريطة </span>
            <div class="mapImgImg" >
              <img id="imageTechPin" src="{{ technicalDetails.imagePin}}" >
            </div>
            <div class="zoom" (click)="openModalPin()"><i class="fas fa-search"></i></div> 
          </div>

           <!-- The Modal pin-->
           <div id="imageTechPinModel" class="modal">
            <span (click)="closeImagePin()" class="close">&times;</span>
            <img src="{{ technicalDetails.imagePin}}" style="width:5%" class="modal-content" id="img02">
          </div>
         
        </div>

      </div>
    </div>
  </div>
</div>
