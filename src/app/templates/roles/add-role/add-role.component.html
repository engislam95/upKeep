<div class="main_page form-taxs-mng" id="formPage">
  <app-alerts></app-alerts>
  <app-side-menu-mgt></app-side-menu-mgt>
  <div class="page_main_blocks middle_page">
    <div class="page_header">
      <app-header></app-header>
    </div>
    <div class="page_body_title">
      <span>      <i style="    font-weight: normal; font-size: 25px; color: #242a2d;" class="fal fa-cog"></i></span>
      <h3 class="fontRole">
       إدارة
        الصلاحيات
      </h3>
      <div class="clientDetails-name">
        <ul>
          <li>
            <span class="cilentAccount-type-0 "  *ngIf="company_details && company_details.active == 1" >
              الحساب نشط 
            </span>
            <span class="cilentAccount-type-10 "  *ngIf=" company_details && company_details.active != 1" >
              الحساب غير نشط  
            </span>
          
          </li>
          <!-- <li>
            باقى
            <span style="padding: 0% 10px;">
              {{company_details  ? company_details.availableTo : ''}}
            </span>
            يوم على صلاحية النظام
          </li> -->
        </ul>
      </div>

      <!-- <div class="page_body_main_buttons">
        <a routerLink="/roles/add-role">
          إضافة صلاحية جديدة
          <i
            ><img
              style="width: 60%;"
              src="../../../assets/img/home_page/security-on.svg"
              alt=""
          /></i>
        </a>
      </div> -->
    </div>
    <div
      class="page_body formContainer"
      [ngClass]="{ pageNotLoaded: !pageLoaded }"
    >
      <div class="page_body_main" id="add_role">
        <div class="page_block">
          <div
            class="button-add-taxs"
            style="position: relative;
          left: -13px;
          float: left;
          top: 57px;
          z-index: 999;"
          >
            <button [routerLink]="['/roles/all-roles']">
              <i class="fal fa-backward" style="font-size:  17px;"></i> الرجوع الى قائمة الصلاحيات
            </button>
          </div>
          <div id="add_form">
            <form (ngSubmit)="onSubmit()" [formGroup]="rolesForm">
              <div class="form_field">
                <div style="display: flex;">
                <span><i class="fas fa-plus-square" style="margin:1% ; font-size:26px"></i></span>
                <label class="fontRole" style="margin-bottom: 6%;     margin-right: 12px; padding-top: 3px;"
                  > إضافة صلاحية جديدة
                </label></div>
                <label class="fontRole" style="font-size: 16px; margin-bottom: 7px; ">اسم الصلاحية</label>

                <mat-form-field style="    width: 65%;" appearance="outline" dir="rtl">
                  <input
                    formControlName="name"
                    matInput
                    placeholder="إسم الصلاحية"
                    autocomplete="off"
                    id="name"
                  />
                  <button
                    type="button"
                    class="resetInput"
                    (click)="xResetInputs('name')"
                  >
                    <i class="fas fa-times-circle"></i>
                  </button>
                </mat-form-field>
                <div
                  [@fade]
                  class="validationState  errorState"
                  *ngIf="
                    (rolesForm.get('name').status === 'INVALID' &&
                      rolesForm.get('name').touched) ||
                    (submitted && rolesForm.get('name').status === 'INVALID')
                  "
                >
                  <i class="fas fa-times"></i> برجاء إدخال اسم الدور
                </div>
                <div
                  [@fade]
                  class="validationState successState"
                  *ngIf="rolesForm.get('name').status === 'VALID'"
                >
                  <i class="fas fa-check"></i> إدخال صحيح
                </div>
              </div>
           
              <div class="form_field">
                <label class="fontRole" style="font-size: 16px;  margin-bottom: 7px;">الملاحظات</label>
                <mat-form-field style="    width: 65%;" appearance="outline" dir="rtl" >
                  <textarea
                    style="height: 165px"
                    matInput
                    formControlName="description"
                    placeholder="الملاحظات"
                  ></textarea>
                </mat-form-field>
              </div>
              <div
                class="button-add-taxs"
                style="display: block; margin-top: 5px; left: 0; position: relative;"
              >
                <button
                  *ngIf="!updateMode"
                  type="submit"
                  class=""
                  [disabled]="rolesForm.invalid || submitted"
               
                >
                  <i class="fas fa-plus-square" style="font-size: 17px;"></i>
                  اضافة الصلاحية
                </button>
                <button
                  *ngIf="updateMode"
                  type="button"
                  (click)="onUpdate()"
                  class=""
                  [disabled]="rolesForm.invalid || submitted"
                  style="width: 123px;"
                >
                  <i class="fas fa-file-edit" style="font-size: 17px;"></i>
                  تعديل
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
